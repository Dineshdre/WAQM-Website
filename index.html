<!DOCTYPE html>
<html lang="en">
<head>
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
</head>
<body>
	<div class="col-lg-12 text-center">
          <h2 class="section-heading text-uppercase">LIVE DATA</h2>
        </div>
<table class="table table-sm table-dark">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Attribute</th>
      <th scope="col">Normal Range</th>
      <th scope="col">Obtained Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">1</th>
      <td>ph</td>
      <td>6.5 - 8.4 (Range 1-14)</td>
      <td ><input id="txtField1" type="text" readonly style="border:none; width: 80px;"/> (Range 1-14)</td>
    </tr>
    <tr>
      <th scope="row">2</th>
      <td>Turbidity</td>
      <td>2.5 - 5.00 (ppm)</td>
      <td><input id="txtField2" type="text" readonly style="border:none;width: 80px;"/> (ppm)</td>
    </tr>
    <tr>
      <th scope="row">3</th>
      <td>Electrical Conductivity</td>
      <td>0.00 - 0.70 (mS/cm)</td>
      <td><input id="txtField4" type="text" readonly style="border:none;width: 80px;"/> (mS/cm)</td>
    </tr>
    <tr>
      <th scope="row">4</th>
      <td>Temperature</td>
      <td>< 33 °C</td>
      <td><input id="txtField3" type="text" readonly style="border:none;width: 80px;"/> °C</td>
    </tr>
  </tbody>
</table>
<script type="text/javascript">
        $(document).ready(function ()
        {
            GetData();
        });
        function GetData()
        {
            var ph = 'https://api.thingspeak.com/channels/809539/fields/1/last.json?api_key=DSI0YJOFK89A94F8&results=2';
            var turb = 'https://api.thingspeak.com/channels/809539/fields/2/last.json?api_key=DSI0YJOFK89A94F8&results=2';
            var temp = 'https://api.thingspeak.com/channels/809539/fields/3/last.json?api_key=DSI0YJOFK89A94F8&results=2';
            var ec = 'https://api.thingspeak.com/channels/809539/fields/4/last.json?api_key=DSI0YJOFK89A94F8&results=2';             
            $.ajax({
                    url: ph,
                    type: 'GET',
                    data: {
                      format: 'json'
                    },
                  success: function(data) {
                        $('#txtField1').val(data.field1);
                                              },
                  error: function() {
                        alert("There was an error processing your request. Please try again.");
                                    }
                  });
            $.ajax({
                    url: turb,
                    type: 'GET',
                    data: {
                      format: 'json'
                    },
                  success: function(data) {
                        $('#txtField2').val(data.field2);
                                              },
                  error: function() {
                        alert("There was an error processing your request. Please try again.");
                                    }
                  });
            $.ajax({
                    url: temp,
                    type: 'GET',
                    data: {
                      format: 'json'
                    },
                  success: function(data) {
                        $('#txtField3').val(data.field3);
                                              },
                  error: function() {
                        alert("There was an error processing your request. Please try again.");
                                    }
                  });
            $.ajax({
                    url: ec,
                    type: 'GET',
                    data: {
                      format: 'json'
                    },
                  success: function(data) {
                        $('#txtField4').val(data.field4);
                                              },
                  error: function() {
                        alert("There was an error processing your request. Please try again.");
                                    }
                  });
            
        }
    </script>
</body>
</html>